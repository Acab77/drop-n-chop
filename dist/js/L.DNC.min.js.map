{"version":3,"file":"L.DNC.min.js","sources":["L.DNC.js"],"names":["DNC","version","module","exports","window","L","init","this","mapView","MapView","dropzone","DropZone","_map","layerlist","LayerList","layerContainerId","addTo","menuBar","MenuBar","notifications","Notifications","fileReader","Menu","Class","extend","options","parentId","initialize","title","setOptions","domElement","_buildMenu","_addEventHandlers","menuClick","menuExpand","querySelector","className","indexOf","openMenus","document","getElementsByClassName","i","length","replace","addEventListener","menu","createElement","innerHTML","getElementById","appendChild","addOperation","operation","dropdown","statics","TYPE","map","type","FileReader","enable","Handler","includes","Mixin","Events","_container","_registerEventHandlers","on","e","console","debug","file","mapLayer","mapbox","featureLayer","addLayerToList","fileInfo","name","numLayers","_enabled","prototype","call","fire","disable","addHooks","DomEvent","_handleDragOver","_handleDragLeave","_handleDrop","removeHooks","off","event","preventDefault","body","files","dataTransfer","_handleFiles","_readFile","fileObject","reader","readAsText","onload","JSON","parse","result","bind","Control","autoZIndex","zoomToExtentOnAdd","_layers","_lastZIndex","_handlingClick","layerContainer","DomUtil","get","selection","add","l","list","push","remove","_leaflet_id","layer","splice","_initLayout","create","setAttribute","onAdd","_update","onRemove","overlay","id","stamp","setZIndex","bounds","getBounds","fitBounds","removeLayerFromList","obj","hasLayer","addLayer","_addItem","inputEl","onchange","checked","removeLayer","layerItem","onclick","evt","currentTarget","info","li","_setupMap","accessToken","zoomControl","setView","geotools","TurfOperation","maxFeatures","additionalArgs","minFeatures","menus","Operation","_buildDomElement","execute","div","children","error","orderImport","layers","_validate","prepared_args","_prepareArgs","objects","newLayer","geometry","turf","apply","Error","slice","layer_objs","_geojson","layer_names","layer_names_str","split","reduce","a","b","_fileReader","hub","params","text","time","note","_this","setTimeout","removeChild","firstChild"],"mappings":"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"}