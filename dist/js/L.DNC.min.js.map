{"version":3,"file":"L.DNC.min.js","sources":["L.DNC.js"],"names":["DNC","version","module","exports","window","L","MenuBar","Class","extend","includes","Mixin","Events","initialize","options","setOptions","this","children","domElement","_buildDomElement","addChild","child","appendChild","parentDomElement","push","addTo","document","createElement","AppController","statics","mapView","MapView","dropzone","DropZone","_map","layerlist","LayerList","layerContainerId","menuBar","getElementById","Menu","TurfOperation","maxFeatures","additionalArgs","minFeatures","notification","Notifications","_addEventHandlers","fileReader","on","_handleParsedFile","bind","_handleTurfResults","e","mapLayer","mapbox","featureLayer","file","addLayerToList","fileInfo","name","numLayers","add","text","type","time","layerName","isOverlay","getLayerSelection","selection","list","TYPE","map","FileReader","enable","Handler","_container","body","_enabled","prototype","call","fire","disable","addHooks","DomEvent","_handleDragOver","_handleDragLeave","_handleDrop","removeHooks","off","event","preventDefault","className","files","dataTransfer","_handleFiles","i","length","_readFile","fileObject","reader","readAsText","onload","JSON","parse","result","Control","autoZIndex","zoomToExtentOnAdd","_layers","_lastZIndex","_handlingClick","layerContainer","DomUtil","get","l","remove","_leaflet_id","layer","splice","_initLayout","create","setAttribute","onAdd","_update","parentElement","removeChild","onRemove","overlay","id","stamp","setZIndex","bounds","getBounds","fitBounds","removeLayerFromList","obj","hasLayer","addLayer","_addItem","inputEl","onchange","_handleLayerChange","layerItem","innerHTML","onclick","_handleLayerClick","li","target","checked","removeLayer","currentTarget","indexOf","info","_setupMap","accessToken","zoomControl","setView","title","dropdown","getElementsByClassName","parent","menuClick","menuExpand","querySelector","openMenus","replace","addEventListener","menu","Operation","execute","div","console","error","orderImport","layers","app","_validate","prepared_args","_prepareArgs","objects","newLayer","geometry","turf","apply","eventExtras","Error","slice","layer_objs","_geojson","layer_names","layer_names_str","split","reduce","a","b","hub","params","note","_this","setTimeout","firstChild"],"mappings":"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"}