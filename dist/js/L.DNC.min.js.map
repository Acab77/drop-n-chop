{"version":3,"file":"L.DNC.min.js","sources":["L.DNC.js"],"names":["DNC","version","module","exports","window","L","init","this","mapView","MapView","dropzone","DropZone","_map","layerlist","LayerList","layerContainerId","addTo","menuBar","MenuBar","notifications","Notifications","Menu","Class","extend","options","parentId","initialize","title","setOptions","domElement","_buildMenu","_addEventHandlers","menuClick","menuExpand","querySelector","className","indexOf","openMenus","document","getElementsByClassName","i","length","replace","addEventListener","menu","createElement","innerHTML","getElementById","appendChild","addOperation","operation","dropdown","statics","TYPE","map","type","fileReader","FileReader","enable","Handler","includes","Mixin","Events","_container","_registerEventHandlers","on","e","console","debug","file","mapLayer","mapbox","featureLayer","addLayerToList","fileInfo","name","numLayers","_enabled","prototype","call","fire","disable","addHooks","DomEvent","_handleDragOver","_handleDragLeave","_handleDrop","removeHooks","off","event","preventDefault","body","files","dataTransfer","_handleFiles","_readFile","fileObject","reader","readAsText","onload","JSON","parse","result","bind","Control","autoZIndex","_layers","_lastZIndex","_handlingClick","layerContainer","DomUtil","get","selection","add","l","list","push","remove","_leaflet_id","layer","splice","_initLayout","create","setAttribute","onAdd","_update","onRemove","overlay","id","stamp","setZIndex","removeLayerFromList","obj","hasLayer","addLayer","_addItem","inputEl","onchange","checked","removeLayer","layerItem","onclick","evt","currentTarget","info","li","_setupMap","accessToken","zoomControl","setView","geotools","TurfOperation","maxFeatures","additionalArgs","minFeatures","menus","Operation","_buildDomElement","execute","div","children","error","orderImport","layers","_validate","prepared_args","_prepareArgs","objects","newLayer","geometry","turf","apply","Error","slice","layer_objs","_geojson","layer_names","layer_names_str","split","reduce","a","b","hub","params","text","time","note","_this","setTimeout","removeChild","firstChild"],"mappings":"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"}