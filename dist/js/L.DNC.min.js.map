{"version":3,"file":"L.DNC.min.js","sources":["L.DNC.js"],"names":["DNC","version","module","exports","window","L","init","mapView","MapView","DropZone","Class","extend","statics","TYPE","options","initialize","map","setOptions","this","_map","type","fileReader","FileReader","Handler","includes","Mixin","Events","_container","enable","_enabled","prototype","call","fire","disable","addHooks","DomEvent","on","_handleDragOver","_handleDragLeave","_handleDrop","removeHooks","off","e","event","preventDefault","document","body","className","files","dataTransfer","_handleFiles","i","length","_readFile","fileObject","reader","readAsText","onload","file","JSON","parse","result","fileInfo","bind","LayerList","Control","autoZIndex","layerContainerId","_layers","_lastZIndex","_handlingClick","layerContainer","DomUtil","get","selection","add","l","list","push","remove","_leaflet_id","layer","splice","_initLayout","create","setAttribute","appendChild","onAdd","_update","addTo","onRemove","addLayerToList","name","overlay","id","stamp","setZIndex","removeLayerFromList","obj","hasLayer","addLayer","_addItem","inputEl","createElement","onchange","checked","removeLayer","layerItem","innerHTML","onclick","evt","currentTarget","indexOf","info","li","numLayers","download","getElementById","_setupMap","_registerEventHandlers","mapbox","accessToken","zoomControl","setView","updateDownload","href","encodeURIComponent","stringify","dropzone","layerlist","geoMenu","Menu","console","debug","mapLayer","featureLayer","jsonLayerList","_jsonLayerList","addEventHandlers","menuClick","menuExpand","nextSibling","menu","getElementsByClassName","m","addEventListener","buffer","ops","execute","geom","_geojson","union","erase","newLayer","geometry","object","log","turf","object1","object2","info1","info2","poly1","poly2","info1Strip","replace","info2Strip","features"],"mappings":"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"}