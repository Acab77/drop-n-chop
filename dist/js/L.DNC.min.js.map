{"version":3,"file":"L.DNC.min.js","sources":["L.DNC.js"],"names":["DNC","version","module","exports","window","L","init","mapView","MapView","Menu","Class","extend","options","parentId","initialize","jsonLayerList","this","_jsonLayerList","setOptions","buildMenu","addEventHandlers","menuClick","menuExpand","querySelector","className","indexOf","openMenus","document","getElementsByClassName","i","length","replace","domElement","addEventListener","_buildElement","str","div","createElement","innerHTML","children","html","title","menu","getElementById","appendChild","DropZone","statics","TYPE","map","_map","type","fileReader","FileReader","Handler","includes","Mixin","Events","_container","enable","_enabled","prototype","call","fire","disable","addHooks","DomEvent","on","_handleDragOver","_handleDragLeave","_handleDrop","removeHooks","off","e","event","preventDefault","body","files","dataTransfer","_handleFiles","_readFile","fileObject","reader","readAsText","onload","file","JSON","parse","result","fileInfo","bind","LayerList","Control","autoZIndex","layerContainerId","_layers","_lastZIndex","_handlingClick","layerContainer","DomUtil","get","selection","add","l","list","push","remove","_leaflet_id","layer","splice","_initLayout","create","setAttribute","onAdd","_update","addTo","onRemove","addLayerToList","name","overlay","id","stamp","setZIndex","removeLayerFromList","obj","hasLayer","addLayer","_addItem","inputEl","onchange","checked","removeLayer","layerItem","onclick","evt","currentTarget","info","li","numLayers","_setupMap","_registerEventHandlers","mapbox","accessToken","zoomControl","setView","dropzone","layerlist","geoMenu","GeoMenu","console","debug","mapLayer","featureLayer","buffer","ops","execute","geom","_geojson","union","erase","keys","key","sort","newLayer","geometry","object","log","turf","object1","object2","info1","info2","poly1","poly2","info1Strip","info2Strip","features"],"mappings":"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"}