!function(){var a=function(b){return this.options=b||{},this instanceof a?(this.numLayers=0,this._map=null,void(this.download=document.getElementById("download"))):new a};a.prototype={init:function(){this.addEventListeners(),this.setupMap(),this.dropzone=new L.DNC.DropZone(this._map,{}),this.layerlist=new L.DNC.JsonLayerList({layerContainerId:"dropzone"}).addTo(this._map),this.geoMenu=new L.DNC.GeoMenu(this.layerlist,{}),this.dropzone.fileReader.on("enabled",function(a){console.debug("[ FILEREADER ]: enabled > ",a)}),this.dropzone.fileReader.on("fileparsed",function(a){console.debug("[ FILEREADER ]: file parsed > ",a.file);var b=L.mapbox.featureLayer(a.file);this.layerlist.addLayerToList(b,a.fileInfo.name,!0),this.numLayers++}.bind(this)),this.dropzone.fileReader.enable()},addEventListeners:function(){document.dispatchEvent(this.registration_event)},setupMap:function(){L.mapbox.accessToken="pk.eyJ1Ijoic3ZtYXR0aGV3cyIsImEiOiJVMUlUR0xrIn0.NweS_AttjswtN5wRuWCSNA",this._map=L.mapbox.map("map","svmatthews.hf8pfph5",{zoomControl:!1}).setView([0,0],3)},updateDownload:function(a){download.href="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(a))}},Object.defineProperty(a.prototype,"registration_event_name",{get:function(){return"register"}}),Object.defineProperty(a.prototype,"registration_event",{writeable:!1,configurable:!1,value:function(){var b=new CustomEvent(a.prototype.registration_event_name,{detail:{},bubbles:!0,cancelable:!0});return b.extraData={},b}()});var b={version:"0.0.1-dev",map:new a};"object"==typeof module&&"object"==typeof module.exports&&(module.exports=b),"undefined"!=typeof window&&(window.DncApp=b)}();
//# sourceMappingURL=dnc.min.js.map