{"version":3,"file":"L.DNC.min.js","sources":["L.DNC.js"],"names":["DNC","version","module","exports","window","L","MenuBar","Class","extend","includes","Mixin","Events","initialize","options","setOptions","this","children","domElement","_buildDomElement","addChild","child","appendChild","parentDomElement","push","addTo","document","createElement","AppController","statics","mapView","MapView","dropzone","DropZone","_map","layerlist","LayerList","layerContainerId","menuBar","getElementById","Menu","TurfOperation","maxFeatures","additionalArgs","minFeatures","_addEventHandlers","fileReader","on","_handleParsedFile","bind","_handleTurfResults","e","mapLayer","mapbox","featureLayer","file","addLayerToList","fileInfo","name","numLayers","layerName","isOverlay","getLayerSelection","selection","list","TYPE","map","type","FileReader","enable","Handler","_container","body","_enabled","prototype","call","fire","disable","addHooks","DomEvent","_handleDragOver","_handleDragLeave","_handleDrop","removeHooks","off","event","preventDefault","className","files","dataTransfer","_handleFiles","i","length","_readFile","fileObject","reader","readAsText","onload","JSON","parse","result","Control","autoZIndex","zoomToExtentOnAdd","_layers","_lastZIndex","_handlingClick","layerContainer","DomUtil","get","add","l","remove","_leaflet_id","layer","splice","_initLayout","create","setAttribute","onAdd","_update","parentElement","removeChild","onRemove","overlay","id","stamp","setZIndex","bounds","getBounds","fitBounds","removeLayerFromList","obj","hasLayer","addLayer","_addItem","inputEl","onchange","_handleLayerChange","layerItem","innerHTML","onclick","_handleLayerClick","li","target","checked","removeLayer","currentTarget","indexOf","info","_setupMap","accessToken","zoomControl","setView","title","dropdown","getElementsByClassName","parent","menuClick","menuExpand","querySelector","openMenus","replace","addEventListener","menu","Operation","execute","div","console","error","orderImport","layers","app","_validate","prepared_args","_prepareArgs","objects","newLayer","geometry","turf","apply","eventExtras","Error","slice","layer_objs","_geojson","layer_names","layer_names_str","split","reduce","a","b"],"mappings":"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"}